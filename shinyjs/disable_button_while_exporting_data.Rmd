---
title: "without ui and server"
output: 
    flexdashboard::flex_dashboard:
runtime: shiny
---

```{r setup, include=FALSE}
library(flexdashboard)
library(shiny)
library(shinyjs)
```

# Inputs {.sidebar}

```{r, echo=FALSE}
useShinyjs(rmd = TRUE)
actionButton(inputId = "start", label = "start")
```


# Page

```{r}
useShinyjs(rmd = TRUE)
actionFunction = function(){
    shinyjs::disable("start")
    
    # Replace actual code instead
    withProgress(message = 'Calculation in progress',
                 detail = 'This may take a while...', value = 0, {
                     for (i in 1:15) {
                         incProgress(1/15)
                         Sys.sleep(0.25)
                     }
                 })
    
    shinyjs::enable("start")
}

# Run action function on button click  
shinyjs::onclick("start", actionFunction())
```

